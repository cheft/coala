!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i=n(1),o=n(3),r={observable:o,mount:function(e,t){return this.component(e).mount(t)},render:function(e){var t=$("<div>");return this.mount(e,t),t.html()},unmount:function(e){e.unmount()},component:function(e){return new i(e)}};o(r),e.exports=r},function(e,t,n){function i(e){this.opts=e||{},this.data=e.data||{},this.refs={},this._mixin(),r(this),this._listenTo(),this.trigger("init").trigger("update"),this._dom(),this._initRefs(this)}var o=n(2),r=n(3);i.prototype.mount=function(e,t){return e&&(this.el=$(e)),this.el.append(this.dom.children()),t||(this._bindEvents(),this.trigger("updated").trigger("mount")),this},i.prototype.update=function(e){e&&(this.data=$.extend(!1,this.data,e)),this.trigger("update"),this._dom(),this._initRefs(this,!0);var t=this.el[0].cloneNode(!1);return t.innerHTML=this.dom.html(),o(this.el[0],t,{onBeforeElUpdated:function(e,t){"TEXTAREA"===e.tagName||"INPUT"===e.tagName?(t.checked=e.checked,t.value=e.value):"OPTION"===e.tagName&&(t.selected=e.selected)}}),this.trigger("updated")},i.prototype.unmount=function(){this.el.empty().off(),this.trigger("unmount").off("*")},i.prototype.$=function(e){return this.el.find(e)},i.prototype._dom=function(){return this.opts.tpl?void(this.dom=$("<div>"+this.opts.tpl(this.data)+"</div>")):void(this.dom=$("<div></div>"))},i.prototype._initRefs=function(e,t){if(this.opts.refs)for(var n in this.opts.refs){var o=this.opts.refs[n];o.data&&(o.component.data=$.extend(!0,o.component.data,o.data));var r=new i(o.component);r.refOpts=$.extend(!0,{},o),r.parent=e,this.refs[n]=r,r.el=e.dom.find(o.el),r.mount(void 0,t)}},i.prototype._bindEvents=function(){if(this.opts.events)for(var e in this.opts.events){var t=this.opts.events[e],n=e.indexOf(" "),i=e.substr(n+1,e.length);this.el.on(e.substr(0,n),i,$.proxy(this.opts.handle[t],this))}},i.prototype._mixin=function(){if(this.opts.mixins){this.opts.mixins.unshift(!1);var e=$.extend.apply($,this.opts.mixins);for(var t in e)this[t]=e[t]}},i.prototype._listenTo=function(){if(this.opts.listen)for(var e in this.opts.listen){var t=this.opts.listen[e];this.on(e,t)}},e.exports=i},function(e){"use strict";function t(e){!f&&c.createRange&&(f=c.createRange(),f.selectNode(c.body));var t;return f&&f.createContextualFragment?t=f.createContextualFragment(e):(t=c.createElement("body"),t.innerHTML=e),t.childNodes[0]}function n(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}function i(){}function o(e,t){var n=e.nodeName,i=t.nodeName;return n===i?!0:t.actualize&&n.charCodeAt(0)<91&&i.charCodeAt(0)>90?n===i.toUpperCase():!1}function r(e,t){return t&&t!==h?c.createElementNS(t,e):c.createElement(e)}function a(e,t){if(t.assignAttributes)t.assignAttributes(e);else{var n,i,o,r,a,s,u=t.attributes;for(n=u.length-1;n>=0;--n)i=u[n],o=i.name,r=i.namespaceURI,a=i.value,r?(o=i.localName||o,s=e.getAttributeNS(r,o),s!==a&&e.setAttributeNS(r,o,a)):(s=e.getAttribute(o),s!==a&&e.setAttribute(o,a));for(u=e.attributes,n=u.length-1;n>=0;--n)i=u[n],i.specified!==!1&&(o=i.name,r=i.namespaceURI,r?(o=i.localName||o,l(t,r,o)||e.removeAttributeNS(r,o)):l(t,null,o)||e.removeAttribute(o))}}function s(e,t){for(var n=e.firstChild;n;){var i=n.nextSibling;t.appendChild(n),n=i}return t}function u(e){return e.id}function d(e,n,d){function f(e){A?A.push(e):A=[e]}function l(e,t){if(e.nodeType===v)for(var n=e.firstChild;n;){var i=void 0;t&&(i=T(n))?f(i):($(n),n.firstChild&&l(n,t)),n=n.nextSibling}}function p(e,t,n){R(e)!==!1&&(t&&t.removeChild(e),$(e),l(e,n))}function h(e){if(e.nodeType===v)for(var t=e.firstChild;t;){var n=T(t);n&&(I[n]=t),h(t),t=t.nextSibling}}function y(e){S(e);for(var t=e.firstChild;t;){var n=t.nextSibling,i=T(t);if(i){var r=I[i];r&&o(t,r)&&(t.parentNode.replaceChild(r,t),N(r,t))}y(t),t=n}}function N(t,i,r){var s,u=T(i);if(u&&delete I[u],!n.isSameNode||!n.isSameNode(e)){if(!r){if(E(t,i)===!1)return;if(a(t,i),_(t),U(t,i)===!1)return}if("TEXTAREA"!==t.nodeName){var d,l,h,x,A=i.firstChild,S=t.firstChild;e:for(;A;){for(h=A.nextSibling,d=T(A);S;){if(l=S.nextSibling,A.isSameNode&&A.isSameNode(S)){A=h,S=l;continue e}s=T(S);var R=S.nodeType,$=void 0;if(R===A.nodeType&&(R===v?(d?d!==s&&((x=I[d])?S.nextSibling===x?$=!1:(t.insertBefore(x,S),s?f(s):p(S,t,!0),l=S.nextSibling,S=x):$=!1):s&&($=!1),$=$!==!1&&o(S,A),$&&N(S,A)):(R===m||R==g)&&($=!0,S.nodeValue=A.nodeValue)),$){A=h,S=l;continue e}s?f(s):p(S,t,!0),S=l}if(d&&(x=I[d])&&o(x,A))t.appendChild(x),N(x,A);else{var w=C(A);w!==!1&&(w&&(A=w),A.actualize&&(A=A.actualize(t.ownerDocument||c)),t.appendChild(A),y(A))}A=h,S=l}for(;S;)l=S.nextSibling,(s=T(S))?f(s):p(S,t,!0),S=l}var O=b[t.nodeName];O&&O(t,i)}}if(d||(d={}),"string"==typeof n)if("#document"===e.nodeName||"HTML"===e.nodeName){var x=n;n=c.createElement("html"),n.innerHTML=x}else n=t(n);var A,T=d.getNodeKey||u,C=d.onBeforeNodeAdded||i,S=d.onNodeAdded||i,E=d.onBeforeElUpdated||i,_=d.onElUpdated||i,R=d.onBeforeNodeDiscarded||i,$=d.onNodeDiscarded||i,U=d.onBeforeElChildrenUpdated||i,w=d.childrenOnly===!0,I={};h(e);var O=e,B=O.nodeType,z=n.nodeType;if(!w)if(B===v)z===v?o(e,n)||($(e),O=s(e,r(n.nodeName,n.namespaceURI))):O=n;else if(B===m||B===g){if(z===B)return O.nodeValue=n.nodeValue,O;O=n}if(O===n)$(e);else if(N(O,n,w),A)for(var V=0,D=A.length;D>V;V++){var H=I[A[V]];H&&p(H,H.parentNode,!1)}return!w&&O!==e&&e.parentNode&&(O.actualize&&(O=O.actualize(e.ownerDocument||c)),e.parentNode.replaceChild(O,e)),O}var f,l,c="undefined"!=typeof document&&document,p=c?c.body||c.createElement("div"):{},h="http://www.w3.org/1999/xhtml",v=1,m=3,g=8;l=p.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:p.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var b={OPTION:function(e,t){n(e,t,"selected")},INPUT:function(e,t){n(e,t,"checked"),n(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),l(t,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}};e.exports=d},function(e){e.exports=function(e){e=e||{};var t={},n=0;return e.on=function(i,o){return"function"==typeof o&&("undefined"==typeof o.id&&(o._id=n++),i.replace(/\S+/g,function(e,n){(t[e]=t[e]||[]).push(o),o.typed=n>0})),e},e.off=function(n,i){return"*"==n?t={}:n.replace(/\S+/g,function(e){if(i)for(var n,o=t[e],r=0;n=o&&o[r];++r)n._id==i._id&&o.splice(r--,1);else t[e]=[]}),e},e.one=function(t,n){function i(){e.off(t,i),n.apply(e,arguments)}return e.on(t,i)},e.trigger=function(n){for(var i,o=[].slice.call(arguments,1),r=t[n]||[],a=0;i=r[a];++a)i.busy||(i.busy=1,i.apply(e,i.typed?[n].concat(o):o),r[a]!==i&&a--,i.busy=0);return t.all&&"all"!=n&&e.trigger.apply(e,["all",n].concat(o)),e},e}}])});