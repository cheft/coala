!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var n=t();for(var i in n)("object"==typeof exports?exports:e)[i]=n[i]}}(this,function(){return function(e){function t(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return e[i].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var i=n(1),o=n(3),r={observable:o,mount:function(e,t){return this.component(e).mount(t)},render:function(e){var t=$("<div>");return this.mount(e,t),t.html()},unmount:function(e){e.unmount()},component:function(e){return new i(e)}};o(r),e.exports=r},function(e,t,n){function i(e){if(r(this),this.opts=e||{},this.data=e.data||{},$.isFunction(e.data)){var t=e.data.call(this);t&&t.promise?this.promise=t:this.data=t}this.data.$url&&(this.promise=$.get(this.data.$url),delete this.data.$url),this.refs={},this._mixin(),this._listenTo()}var o=n(2),r=n(3);n(4),i.prototype.mount=function(e){var t=this;return this.trigger("init"),this.trigger("update"),this.promise?(this.promise.done(function(n){t.data.resource=n,t._render(e),delete t.promise}),this):this._render(e)},i.prototype._render=function(e){return e&&(this.el=$(e)),this._dom(),this._initRefs(),this.el.append(this.dom.children()),this._bindEvents(),this.trigger("updated").trigger("mount"),this.$("style[scoped]").scopedPolyFill(),this},i.prototype.update=function(e){e&&(this.data=$.extend(!1,this.data,e)),this.trigger("update"),this._dom();var t=this.el[0].cloneNode(!1);return t.innerHTML=this.dom.html(),o(this.el[0],t),this.trigger("updated"),this.$("style[scoped]").scopedPolyFill(),this._updateRefs(),this},i.prototype.unmount=function(){this.el.empty().off(),this.trigger("unmount").off("*")},i.prototype.$=function(e){return this.el.find(e)},i.prototype._dom=function(){return this.opts.tpl?this.dom=$("<div>"+this.opts.tpl(this.data)+"</div>"):void(this.dom=$("<div></div>"))},i.prototype._initRefs=function(){if(this.opts.refs)for(var e in this.opts.refs){var t=this.opts.refs[e];t.data&&(t.component.data=$.extend(!0,t.component.data,t.data));var n=new i(t.component);n.refOpts=$.extend(!0,{},t),n.parent=this,this.refs[e]=n,n.el=this.dom.find(t.el),n.mount()}},i.prototype._updateRefs=function(){if(this.refs)for(var e in this.refs)this.refs[e].update()},i.prototype._bindEvents=function(){if(this.opts.events)for(var e in this.opts.events){var t=this.opts.events[e],n=e.indexOf(" "),i=e.substr(n+1,e.length);this.el.on(e.substr(0,n),i,$.proxy(this.opts.handle[t],this))}},i.prototype._mixin=function(){this.opts.mixins&&($.isArray(this.opts.mixins)||(this.opts.mixins=[this.opts.mixins]),this.opts.mixins.unshift(this),$.extend.apply($,this.opts.mixins))},i.prototype._listenTo=function(){if(this.opts.listen)for(var e in this.opts.listen){var t=this.opts.listen[e];this.on(e,t)}},e.exports=i},function(e){"use strict";function t(e){!l&&c.createRange&&(l=c.createRange(),l.selectNode(c.body));var t;return l&&l.createContextualFragment?t=l.createContextualFragment(e):(t=c.createElement("body"),t.innerHTML=e),t.childNodes[0]}function n(e,t,n){e[n]!==t[n]&&(e[n]=t[n],e[n]?e.setAttribute(n,""):e.removeAttribute(n,""))}function i(){}function o(e,t){var n=e.nodeName,i=t.nodeName;return n===i?!0:t.actualize&&n.charCodeAt(0)<91&&i.charCodeAt(0)>90?n===i.toUpperCase():!1}function r(e,t){return t&&t!==h?c.createElementNS(t,e):c.createElement(e)}function s(e,t){if(t.assignAttributes)t.assignAttributes(e);else{var n,i,o,r,s,a,u=t.attributes;for(n=u.length-1;n>=0;--n)i=u[n],o=i.name,r=i.namespaceURI,s=i.value,r?(o=i.localName||o,a=e.getAttributeNS(r,o),a!==s&&e.setAttributeNS(r,o,s)):(a=e.getAttribute(o),a!==s&&e.setAttribute(o,s));for(u=e.attributes,n=u.length-1;n>=0;--n)i=u[n],i.specified!==!1&&(o=i.name,r=i.namespaceURI,r?(o=i.localName||o,f(t,r,o)||e.removeAttributeNS(r,o)):f(t,null,o)||e.removeAttribute(o))}}function a(e,t){for(var n=e.firstChild;n;){var i=n.nextSibling;t.appendChild(n),n=i}return t}function u(e){return e.id}function d(e,n,d){function l(e){S?S.push(e):S=[e]}function f(e,t){if(e.nodeType===m)for(var n=e.firstChild;n;){var i=void 0;t&&(i=A(n))?l(i):(E(n),n.firstChild&&f(n,t)),n=n.nextSibling}}function p(e,t,n){$(e)!==!1&&(t&&t.removeChild(e),E(e),f(e,n))}function h(e){if(e.nodeType===m)for(var t=e.firstChild;t;){var n=A(t);n&&(U[n]=t),h(t),t=t.nextSibling}}function b(e){R(e);for(var t=e.firstChild;t;){var n=t.nextSibling,i=A(t);if(i){var r=U[i];r&&o(t,r)&&(t.parentNode.replaceChild(r,t),x(r,t))}b(t),t=n}}function x(t,i,r){var a,u=A(i);if(u&&delete U[u],!n.isSameNode||!n.isSameNode(e)){if(!r){if(C(t,i)===!1)return;if(s(t,i),_(t),w(t,i)===!1)return}if("TEXTAREA"!==t.nodeName){var d,f,h,N,S=i.firstChild,R=t.firstChild;e:for(;S;){for(h=S.nextSibling,d=A(S);R;){if(f=R.nextSibling,S.isSameNode&&S.isSameNode(R)){S=h,R=f;continue e}a=A(R);var $=R.nodeType,E=void 0;if($===S.nodeType&&($===m?(d?d!==a&&((N=U[d])?R.nextSibling===N?E=!1:(t.insertBefore(N,R),a?l(a):p(R,t,!0),f=R.nextSibling,R=N):E=!1):a&&(E=!1),E=E!==!1&&o(R,S),E&&x(R,S)):($===v||$==y)&&(E=!0,R.nodeValue=S.nodeValue)),E){S=h,R=f;continue e}a?l(a):p(R,t,!0),R=f}if(d&&(N=U[d])&&o(N,S))t.appendChild(N),x(N,S);else{var j=T(S);j!==!1&&(j&&(S=j),S.actualize&&(S=S.actualize(t.ownerDocument||c)),t.appendChild(S),b(S))}S=h,R=f}for(;R;)f=R.nextSibling,(a=A(R))?l(a):p(R,t,!0),R=f}var B=g[t.nodeName];B&&B(t,i)}}if(d||(d={}),"string"==typeof n)if("#document"===e.nodeName||"HTML"===e.nodeName){var N=n;n=c.createElement("html"),n.innerHTML=N}else n=t(n);var S,A=d.getNodeKey||u,T=d.onBeforeNodeAdded||i,R=d.onNodeAdded||i,C=d.onBeforeElUpdated||i,_=d.onElUpdated||i,$=d.onBeforeNodeDiscarded||i,E=d.onNodeDiscarded||i,w=d.onBeforeElChildrenUpdated||i,j=d.childrenOnly===!0,U={};h(e);var B=e,F=B.nodeType,I=n.nodeType;if(!j)if(F===m)I===m?o(e,n)||(E(e),B=a(e,r(n.nodeName,n.namespaceURI))):B=n;else if(F===v||F===y){if(I===F)return B.nodeValue=n.nodeValue,B;B=n}if(B===n)E(e);else if(x(B,n,j),S)for(var L=0,z=S.length;z>L;L++){var O=U[S[L]];O&&p(O,O.parentNode,!1)}return!j&&B!==e&&e.parentNode&&(B.actualize&&(B=B.actualize(e.ownerDocument||c)),e.parentNode.replaceChild(B,e)),B}var l,f,c="undefined"!=typeof document&&document,p=c?c.body||c.createElement("div"):{},h="http://www.w3.org/1999/xhtml",m=1,v=3,y=8;f=p.hasAttributeNS?function(e,t,n){return e.hasAttributeNS(t,n)}:p.hasAttribute?function(e,t,n){return e.hasAttribute(n)}:function(e,t,n){return!!e.getAttributeNode(n)};var g={OPTION:function(e,t){n(e,t,"selected")},INPUT:function(e,t){n(e,t,"checked"),n(e,t,"disabled"),e.value!==t.value&&(e.value=t.value),f(t,null,"value")||e.removeAttribute("value")},TEXTAREA:function(e,t){var n=t.value;e.value!==n&&(e.value=n),e.firstChild&&(e.firstChild.nodeValue=n)}};e.exports=d},function(e){e.exports=function(e){e=e||{};var t={},n=0;return e.on=function(i,o){return"function"==typeof o&&("undefined"==typeof o.id&&(o._id=n++),i.replace(/\S+/g,function(e,n){(t[e]=t[e]||[]).push(o),o.typed=n>0})),e},e.off=function(n,i){return"*"==n?t={}:n.replace(/\S+/g,function(e){if(i)for(var n,o=t[e],r=0;n=o&&o[r];++r)n._id==i._id&&o.splice(r--,1);else t[e]=[]}),e},e.one=function(t,n){function i(){e.off(t,i),n.apply(e,arguments)}return e.on(t,i)},e.trigger=function(n){for(var i,o=[].slice.call(arguments,1),r=t[n]||[],s=0;i=r[s];++s)i.busy||(i.busy=1,i.apply(e,i.typed?[n].concat(o):o),r[s]!==i&&s--,i.busy=0);return t.all&&"all"!=n&&e.trigger.apply(e,["all",n].concat(o)),e},e}},function(){!function(e,t){function n(e,t){function o(e,t){for(var n,r,s,u=e.cssRules?e:a,d=e.cssRules||[e],f=d.length||0,c=e.cssRules?f:t;f--;)n=d[f],n.selectorText?(r=l+" "+n.selectorText.split(",").join(", "+l),r=r.replace(/[\ ]+:root/gi,""),i.changeSelectorTextAllowed?n.selectorText=r:n.type&&1!==n.type||(s=n.style.cssText,s&&(u.removeRule?u.removeRule(c):u.deleteRule(c),u.addRule?u.addRule(r,s,c):u.insertRule(r+"{"+s+"}",c)))):n.cssRules&&o(n,c)}if(t&&(e=t),!e.nodeName)return e.jquery?e.each(n):void 0;if("STYLE"===e.nodeName){for(var r,a=e[i.sheet],u=a[i.rules],d=e.parentNode,l=(d.id||(d.id="coala_scoped_"+ ++s),""),f=u.length||0;d;)d.id&&(l=parseInt(d.id.slice(0,1))?"#\\3"+d.id.slice(0,1)+" "+d.id.slice(1)+" "+l:"#"+d.id+" "+l),d=d.parentNode;for(;f--;)r=u[f],o(r,f)}}var i=function(){var n,i,o,r=e.createElement("style"),s="undefined"!=typeof r.sheet?"sheet":"undefined"!=typeof r.getSheet?"getSheet":"styleSheet",a=t!==r.scoped;e.body.appendChild(r),n=r[s],n.addRule?n.addRule("c","blink"):n.insertRule("c{}",0),i=n.rules?"rules":"cssRules",o=n[i][0];try{o.selectorText="d"}catch(e){}var u="d"===o.selectorText.toLowerCase();return r.parentNode.removeChild(r),{scopeSupported:a,rules:i,sheet:s,changeSelectorTextAllowed:u}}();if(i.scopeSupported)return function(){return this};var o,r,s=0;if(e.querySelectorAll)o=e.querySelectorAll("style[scoped]");else{var a,u=[];for(o=e.getElementsByTagName("style"),r=o.length;r--;)a=o[r].getAttribute("scoped"),("scoped"===a||""===a)&&u.push(o[r]);o=u}for(r=o.length;r--;)n(o[r]);return"function"==typeof jQuery&&"object"==typeof jQuery.fn&&(jQuery.fn.scopedPolyFill=function(){return this.each(n)}),n}(document)}])});