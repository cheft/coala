!function(t,n){if("object"==typeof exports&&"object"==typeof module)module.exports=n();else if("function"==typeof define&&define.amd)define([],n);else{var e=n();for(var i in e)("object"==typeof exports?exports:t)[i]=e[i]}}(this,function(){return function(t){function n(i){if(e[i])return e[i].exports;var o=e[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n,e){var i=e(1),o=e(3),r={observable:o,mount:function(t,n){return this.component(t).mount(n)},unmount:function(t){t.unmount()},component:function(t){return new i(t)}};o(r),t.exports=r},function(t,n,e){function i(t){this.opts=t,this.tpl=t.tpl||{},this.el=t.el?$(t.el):void 0,this.data=t.data||{},this.listen=t.listen||{},this.events=t.events||{},this.handle=t.handle||{},this.refs={},this.id=o.uniqueId("component"),r(this),this._listenTo(),this.trigger("init")}var o=e(2),r=e(3);i.prototype.mount=function(t){return this.el=t?$(t):this.el,this.update(),this.trigger("mount"),this},i.prototype.update=function(t){if(this.trigger("update"),this.data=t||this.data,this.rid){var n=this.el,e=this._html();this.el=$(e).attr("rid",this.rid),n.append(this.el),delete this.rid}else this.el.empty().html(this._html());this._mountRefs(this),this._bindEvents(),this.trigger("updated")},i.prototype.unmount=function(){this.el.empty(),this.trigger("unmount")},i.prototype.$=function(t){return this.el.find(t)},i.prototype._html=function(){return this.tpl(this.data)},i.prototype._mountRefs=function(t){if(this.opts.refs)for(var n in this.opts.refs){var e=this.opts.refs[n],o=new i(e.component);e.data&&(o.data=e.data),e.rid&&(o.rid=e.rid),o.el=$(e.el),o.parent=t,o.mount(),this.refs[n]=o}},i.prototype._bindEvents=function(){for(var t in this.events){var n=this.events[t],e=this.el.find(t.split(" ")[1]);e.on(t.split(" ")[0],$.proxy(this.handle[n],this))}},i.prototype._listenTo=function(){for(var t in this.listen){var n=this.listen[t];this.on(t,n)}},t.exports=i},function(t){t.exports={counter:0,uniqueId:function(t){return(t||"")+ ++this.counter},isUndefined:function(t){return"undefined"==typeof t},isFunction:function(t){return"function"==typeof t}}},function(t,n,e){var i=e(2);t.exports=function(t){t=t||{};var n={},e=0;return t.on=function(o,r){return i.isFunction(r)&&(i.isUndefined(r.id)&&(r._id=e++),o.replace(/\S+/g,function(t,e){(n[t]=n[t]||[]).push(r),r.typed=e>0})),t},t.off=function(e,i){return"*"==e?n={}:e.replace(/\S+/g,function(t){if(i)for(var e,o=n[t],r=0;e=o&&o[r];++r)e._id==i._id&&o.splice(r--,1);else n[t]=[]}),t},t.one=function(n,e){function i(){t.off(n,i),e.apply(t,arguments)}return t.on(n,i)},t.trigger=function(e){for(var i,o=[].slice.call(arguments,1),r=n[e]||[],s=0;i=r[s];++s)i.busy||(i.busy=1,i.apply(t,i.typed?[e].concat(o):o),r[s]!==i&&s--,i.busy=0);return n.all&&"all"!=e&&t.trigger.apply(t,["all",e].concat(o)),t},t}}])});