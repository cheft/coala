!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n=e();for(var i in n)("object"==typeof exports?exports:t)[i]=n[i]}}(this,function(){return function(t){function e(i){if(n[i])return n[i].exports;var o=n[i]={exports:{},id:i,loaded:!1};return t[i].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){var i=n(1),o=n(3),r=n(5),s={observable:o,mount:function(t,e){return this.component(t).mount(e)},component:function(t){return new i(t)},router:function(t){return this.router=new r(t).start(),this.router}};o(s),t.exports=s},function(t,e,n){function i(t){if(this.opts=t||{},r(this),$.isFunction(t.data)){var e=t.data.call(this);e&&e.promise?(this.promise=e,this.data={}):this.data=e}else this.data=t.data||{};this.refs={},this._mixin(),this._listenTo()}var o=n(2),r=n(3),s=n(4);i.prototype.mount=function(t){var e=this;return this.trigger("init"),this.trigger("update"),this.promise?(this.promise.done(function(n){e.data.resource=n,e._render(t),delete e.promise}),this):this._render(t)},i.prototype._render=function(t){return t&&(this.el=$(t)),this._dom(),this._initRefs(),this.el.append(this.dom.children()),this._bindEvents(),s(this),this.trigger("updated").trigger("mount"),this},i.prototype.update=function(t){t&&(this.data=$.extend(!1,this.data,t)),this.trigger("update"),this._dom();var e=this.el[0].cloneNode(!1);return e.innerHTML=this.dom.html(),o(this.el[0],e),s(this),this.trigger("updated"),this._updateRefs(),this},i.prototype.unmount=function(){this.el.empty().off(),this.trigger("unmount").off("*")},i.prototype.$=function(t){return this.el.find(t)},i.prototype._dom=function(){return this.opts.tpl?this.dom=$("<div>"+this.opts.tpl(this.data)+"</div>"):void(this.dom=$("<div></div>"))},i.prototype._initRefs=function(){if(this.opts.refs)for(var t in this.opts.refs){var e=this.opts.refs[t];e.data&&(e.component.data=$.extend(!0,e.component.data,e.data));var n=new i(e.component);n.refOpts=$.extend(!0,{},e),n.parent=this,this.refs[t]=n,n.el=this.dom.find(e.el),n.mount()}},i.prototype._updateRefs=function(){if(this.refs)for(var t in this.refs)this.refs[t].update()},i.prototype._bindEvents=function(){if(this.opts.events)for(var t in this.opts.events){var e=this.opts.events[t],n=t.indexOf(" "),i=t.substr(n+1,t.length);this.el.on(t.substr(0,n),i,$.proxy(this.opts.handle[e],this))}},i.prototype._mixin=function(){this.opts.mixins&&($.isArray(this.opts.mixins)||(this.opts.mixins=[this.opts.mixins]),this.opts.mixins.unshift(this),$.extend.apply($,this.opts.mixins))},i.prototype._listenTo=function(){if(this.opts.listen)for(var t in this.opts.listen){var e=this.opts.listen[t];this.on(t,e)}},t.exports=i},function(t){"use strict";function e(t){!f&&c.createRange&&(f=c.createRange(),f.selectNode(c.body));var e;return f&&f.createContextualFragment?e=f.createContextualFragment(t):(e=c.createElement("body"),e.innerHTML=t),e.childNodes[0]}function n(t,e,n){t[n]!==e[n]&&(t[n]=e[n],t[n]?t.setAttribute(n,""):t.removeAttribute(n,""))}function i(){}function o(t,e){var n=t.nodeName,i=e.nodeName;return n===i?!0:e.actualize&&n.charCodeAt(0)<91&&i.charCodeAt(0)>90?n===i.toUpperCase():!1}function r(t,e){return e&&e!==l?c.createElementNS(e,t):c.createElement(t)}function s(t,e){if(e.assignAttributes)e.assignAttributes(t);else{var n,i,o,r,s,a,u=e.attributes;for(n=u.length-1;n>=0;--n)i=u[n],o=i.name,r=i.namespaceURI,s=i.value,r?(o=i.localName||o,a=t.getAttributeNS(r,o),a!==s&&t.setAttributeNS(r,o,s)):(a=t.getAttribute(o),a!==s&&t.setAttribute(o,s));for(u=t.attributes,n=u.length-1;n>=0;--n)i=u[n],i.specified!==!1&&(o=i.name,r=i.namespaceURI,r?(o=i.localName||o,p(e,r,o)||t.removeAttributeNS(r,o)):p(e,null,o)||t.removeAttribute(o))}}function a(t,e){for(var n=t.firstChild;n;){var i=n.nextSibling;e.appendChild(n),n=i}return e}function u(t){return t.id}function d(t,n,d){function f(t){_?_.push(t):_=[t]}function p(t,e){if(t.nodeType===m)for(var n=t.firstChild;n;){var i=void 0;e&&(i=w(n))?f(i):($(n),n.firstChild&&p(n,e)),n=n.nextSibling}}function h(t,e,n){T(t)!==!1&&(e&&e.removeChild(t),$(t),p(t,n))}function l(t){if(t.nodeType===m)for(var e=t.firstChild;e;){var n=w(e);n&&(U[n]=e),l(e),e=e.nextSibling}}function x(t){E(t);for(var e=t.firstChild;e;){var n=e.nextSibling,i=w(e);if(i){var r=U[i];r&&o(e,r)&&(e.parentNode.replaceChild(r,e),b(r,e))}x(e),e=n}}function b(e,i,r){var a,u=w(i);if(u&&delete U[u],!n.isSameNode||!n.isSameNode(t)){if(!r){if(C(e,i)===!1)return;if(s(e,i),S(e),R(e,i)===!1)return}if("TEXTAREA"!==e.nodeName){var d,p,l,N,_=i.firstChild,E=e.firstChild;t:for(;_;){for(l=_.nextSibling,d=w(_);E;){if(p=E.nextSibling,_.isSameNode&&_.isSameNode(E)){_=l,E=p;continue t}a=w(E);var T=E.nodeType,$=void 0;if(T===_.nodeType&&(T===m?(d?d!==a&&((N=U[d])?E.nextSibling===N?$=!1:(e.insertBefore(N,E),a?f(a):h(E,e,!0),p=E.nextSibling,E=N):$=!1):a&&($=!1),$=$!==!1&&o(E,_),$&&b(E,_)):(T===v||T==g)&&($=!0,E.nodeValue=_.nodeValue)),$){_=l,E=p;continue t}a?f(a):h(E,e,!0),E=p}if(d&&(N=U[d])&&o(N,_))e.appendChild(N),b(N,_);else{var L=A(_);L!==!1&&(L&&(_=L),_.actualize&&(_=_.actualize(e.ownerDocument||c)),e.appendChild(_),x(_))}_=l,E=p}for(;E;)p=E.nextSibling,(a=w(E))?f(a):h(E,e,!0),E=p}var H=y[e.nodeName];H&&H(e,i)}}if(d||(d={}),"string"==typeof n)if("#document"===t.nodeName||"HTML"===t.nodeName){var N=n;n=c.createElement("html"),n.innerHTML=N}else n=e(n);var _,w=d.getNodeKey||u,A=d.onBeforeNodeAdded||i,E=d.onNodeAdded||i,C=d.onBeforeElUpdated||i,S=d.onElUpdated||i,T=d.onBeforeNodeDiscarded||i,$=d.onNodeDiscarded||i,R=d.onBeforeElChildrenUpdated||i,L=d.childrenOnly===!0,U={};l(t);var H=t,I=H.nodeType,M=n.nodeType;if(!L)if(I===m)M===m?o(t,n)||($(t),H=a(t,r(n.nodeName,n.namespaceURI))):H=n;else if(I===v||I===g){if(M===I)return H.nodeValue=n.nodeValue,H;H=n}if(H===n)$(t);else if(b(H,n,L),_)for(var z=0,B=_.length;B>z;z++){var O=U[_[z]];O&&h(O,O.parentNode,!1)}return!L&&H!==t&&t.parentNode&&(H.actualize&&(H=H.actualize(t.ownerDocument||c)),t.parentNode.replaceChild(H,t)),H}var f,p,c="undefined"!=typeof document&&document,h=c?c.body||c.createElement("div"):{},l="http://www.w3.org/1999/xhtml",m=1,v=3,g=8;p=h.hasAttributeNS?function(t,e,n){return t.hasAttributeNS(e,n)}:h.hasAttribute?function(t,e,n){return t.hasAttribute(n)}:function(t,e,n){return!!t.getAttributeNode(n)};var y={OPTION:function(t,e){n(t,e,"selected")},INPUT:function(t,e){n(t,e,"checked"),n(t,e,"disabled"),t.value!==e.value&&(t.value=e.value),p(e,null,"value")||t.removeAttribute("value")},TEXTAREA:function(t,e){var n=e.value;t.value!==n&&(t.value=n),t.firstChild&&(t.firstChild.nodeValue=n)}};t.exports=d},function(t){t.exports=function(t){t=t||{};var e={},n=0;return t.on=function(i,o){return"function"==typeof o&&("undefined"==typeof o.id&&(o._id=n++),i.replace(/\S+/g,function(t,n){(e[t]=e[t]||[]).push(o),o.typed=n>0})),t},t.off=function(n,i){return"*"==n?e={}:n.replace(/\S+/g,function(t){if(i)for(var n,o=e[t],r=0;n=o&&o[r];++r)n._id==i._id&&o.splice(r--,1);else e[t]=[]}),t},t.one=function(e,n){function i(){t.off(e,i),n.apply(t,arguments)}return t.on(e,i)},t.trigger=function(n){for(var i,o=[].slice.call(arguments,1),r=e[n]||[],s=0;i=r[s];++s)i.busy||(i.busy=1,i.apply(t,i.typed?[n].concat(o):o),r[s]!==i&&s--,i.busy=0);return e.all&&"all"!=n&&t.trigger.apply(t,["all",n].concat(o)),t},t}},function(t){function e(t,e){var n=new RegExp("([^\r\n,{}]+)(,(?=[^}]*{)|s*{)","g");return t=t.replace(n,function(t,n,i){return n.match(/^\s*(@media|@keyframes|to|from|@font-face)/)?n+i:(n.match(/:scope/)&&(n=n.replace(/([^\s]*):scope/,function(t,e){return""===e?"> *":"> "+e})),n=n.replace(/^(\s*)/,"$1"+e+" "),n+i)})}t.exports=function(t){if(!("scoped"in document.createElement("style"))){var n=t.$("style[scoped]");if(0!==n.length)for(var i=0;i<n.length;i++)n[i].innerHTML=e(n[i].innerHTML,t.el.selector)}}},function(t){function e(t){n=this,this.opts=t,this.routes=t.routes,this.go(location.pathname)}var n,i=[/[\-{}\[\]+?.,\\\^$|#\s]/g,/\((.*?)\)/g,/(\(\?)?:\w+/g,/\*\w+/g],o=function(t){return t=t.replace(i[0],"\\$&").replace(i[1],"(?:$1)?").replace(i[2],function(t,e){return e?t:"([^/?]+)"}).replace(i[3],"([^?]*?)"),new RegExp("^"+t+"(?:\\?([\\s\\S]*))?$")},r=function(t,e){var n,i=t.exec(e).slice(1),o=[];for(n=0;n<i.length;n++)o.push(decodeURIComponent(i[n])||null);return o};e.prototype._exec=function(t,e){for(var n in this.routes){var i=o(n);if(i.test(t))if("function"==typeof this.routes[n])this.routes[n].apply(e,r(i,t));else{var s=this.opts[this.routes[n]];s?s.apply(e,r(i,t)):void 0}}},e.prototype._emit=function(t){var e=location.href.split("#")[1]||"";n._exec(e,t)},e.prototype.start=function(){return window.addEventListener?window.addEventListener("hashchange",this._emit,!1):window.attachEvent("onhashchange",this._emit),this},e.prototype.stop=function(){window.removeEventListener?window.removeEventListener("hashchange",this._emit,!1):window.detachEvent("onhashchange",this._emit)},e.prototype.go=function(t){return location.hash=t,this._emit(),this},e.prototype.back=function(){return history.back(),this},e.prototype.add=function(t,e){return this.routes[t]=e,this},e.prototype.remove=function(t){return delete this.routes[t],this},t.exports=e}])});