<header class="bar bar-nav">
  <h1 class='title'>表单</h1>
</header>
<div class="content">
  <div class="list-block">
    <ul>
      <!-- Text inputs -->
      <li>
        <div class="item-content">
          <div class="item-media"><i class="icon icon-form-name"></i></div>
          <div class="item-inner">
            <div class="item-title label">姓名</div>
            <div class="item-input">
              <input name="name" value="{{=data.name}}" type="text" placeholder="Your name">
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="item-content">
          <div class="item-media"><i class="icon icon-form-email"></i></div>
          <div class="item-inner">
            <div class="item-title label">邮箱</div>
            <div class="item-input">
              <input name="email" value="{{=data.email}}" type="email" placeholder="E-mail">
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="item-content">
          <div class="item-media"><i class="icon icon-form-password"></i></div>
          <div class="item-inner">
            <div class="item-title label">密码</div>
            <div class="item-input">
              <input name="password" value="{{=data.password}}" type="password" placeholder="Password" class="">
            </div>
          </div>
        </div>
      </li>
      <li>
        <div class="item-content">
          <div class="item-media"><i class="icon icon-form-gender"></i></div>
          <div class="item-inner">
            <div class="item-title label">性别</div>
            <div class="item-input">
              <select name="sex">
                <option {{?data.sex==='Male'}}selected{{?}}>Male</option>
                <option {{?data.sex==='Female'}}selected{{?}}>Female</option>
              </select>
            </div>
          </div>
        </div>
      </li>
      <!-- Date -->
      <li>
        <div class="item-content">
          <div class="item-media"><i class="icon icon-form-calendar"></i></div>
          <div class="item-inner">
            <div class="item-title label">生日</div>
            <div class="item-input">
              <input name="date" value="{{=data.date}}" type="date" placeholder="Birth day">
            </div>
          </div>
        </div>
      </li>
      <!-- Switch (Checkbox) -->
      <li>
        <div class="item-content">
          <div class="item-media"><i class="icon icon-form-toggle"></i></div>
          <div class="item-inner">
            <div class="item-title label">开关</div>
            <div class="item-input">
              <label class="label-switch">
                <input name="switch" {{?data.switch}}checked{{?}} type="checkbox">
                <div class="checkbox"></div>
              </label>
            </div>
          </div>
        </div>
      </li>
      <li class="align-top">
        <div class="item-content">
          <div class="item-media"><i class="icon icon-form-comment"></i></div>
          <div class="item-inner">
            <div class="item-title label">文本域</div>
            <div class="item-input">
              <textarea name="text">{{=data.text}}</textarea>
            </div>
          </div>
        </div>
      </li>
    </ul>
  </div>
  <div class="content-block">
    <div class="row">
      <div class="col-50"><a href="#" id="setValue" class="button button-big button-fill button-danger">设值</a></div>
      <div class="col-50"><a href="#" id="getValue" class="button button-big button-fill button-success">获取</a></div>
    </div>
  </div>
</div>

<script>
  module.exports = {
    data: {
      name: '',
      email: '',
      password: '',
      date: '',
      sex: '',
      switch: false,
      text: ''
    },
    events: {
      'click #setValue': 'setValue',
      'click #getValue': 'getValue',
      'input input': 'watchInput',
      'change input': 'watchInput',
      'input textarea': 'watchInput',
      'change select': 'watchInput'
    },

    handle: {
      watchInput: function(e) {
        if (e.target.type === 'checkbox' || e.target.type === 'radio') {
          this.data[e.target.name] = e.target.checked
        } else {
          this.data[e.target.name] = e.target.value
        }
      },

      // 获取使用 jquery 方法值
      setValue: function() {
        this.data = {
          name: 'cheft',
          email: 'm@cheft.cn',
          password: '123456',
          date: '2015-02-03',
          sex: 'Female',
          switch: true,
          text: 'hello textarea !'
        }
        this.update()
      },

      getValue: function() {
        console.log(this.data)
        alert(JSON.stringify(this.data))
      }
    }
  }
</script>