<div class="container">
	<div id="catalog"></div>
	<div class="mark">
		<a class="source" href="http://git.qfang.com/qfang-frontend/coala/tree/diff/examples/components/qfang">SOURCE</a>
		<a class="new-tab" href="javscript:;" data-url="/examples/qfang.html">New Tab</a>
		<iframe id="iframe" src="/examples/qfang.html"></iframe>
	</div>
</div>

<style scoped>
.container {
	width: 1024px;
	margin: auto;
}

.mark {
  padding: 2.2em 0;
  max-width: 800px;
  height: 800px;
  margin: auto;
	margin-left: 260px;
}

blockquote {
	margin: 0;
}

.demo {
	border: 1px solid #ddd;
	padding: 5px;
}

.source {
	display: inline-block;
  font-size: 12px;
  color: #FF6A3C;
  padding: 1px 5px 1px 5px;
  border: 1px solid #FF6A3C;
  text-decoration: none;
  margin-bottom: 10px;
}

.new-tab {
	margin-left: 10px;
	display: inline-block;
  font-size: 12px;
  color: limegreen;
  padding: 1px 5px 1px 5px;
  border: 1px solid limegreen;
  text-decoration: none;
  margin-bottom: 10px;
}


iframe {
	border: none;
	width: 100%;
	height: 100%;
}
</style>
<script>
var coala = require('../../coala')

module.exports = {
	data: {
		markup: require('../markdown/guide.md')
	},
	refs: {
		catalog: {
			component: require('./catalog.html'),
			el: '#catalog',
			data: [
				{name: 'Qfang Mobile', url: '/examples/qfang.html', source: 'http://git.qfang.com/qfang-frontend/coala/tree/diff/examples/components/qfang'},
				{name: 'TodoMVC', url: '/examples/todomvc.html', source: 'http://git.qfang.com/qfang-frontend/coala/tree/diff/examples/components/todomvc'},
				{name: '集成 Bootstrap', url: '/examples/bootstrap.html', source: 'http://git.qfang.com/qfang-frontend/coala/tree/diff/examples/integrates/bootstrap'},
				{name: '集成 SUI Mobile', url: '/examples/sui.html', source: 'http://git.qfang.com/qfang-frontend/coala/tree/diff/examples/integrates/sui'}
			],
			itemClick: function(item) {
				this.parent.$('.source').attr('href', item.source)
				this.parent.$('.new-tab').data('url', item.url)
				this.parent.$('#iframe').attr('src', item.url)
				
			}
		}
	},
	listen: {
		mount: function() {
			$('html, body').animate({scrollTop: '0px'}, 0)
		}
	},

	events: {
		'click .new-tab': 'openNewTab'
	},

	handle: {
		openNewTab: function(e) {
			window.open($(e.target).data('url'), '_blank')
		}
	}
}
</script>
