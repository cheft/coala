<div class="container">
	<div id="catalog"></div>
	<div class="mark">{{=data.markup}}</div>
</div>

<style scoped>
.container {
	width: 1024px;
	margin: auto;
}

.mark {
  padding: 2.2em 0;
  max-width: 600px;
  margin: auto;
	margin-left: 260px;
}

blockquote {
	margin: 0;
}

.demo {
	border: 1px solid #ddd;
	padding: 5px;
}

ul, ol {
	margin: 0;
}
</style>
<script>
var coala = require('../../coala')

module.exports = {
	data: {
		markup: require('../markdown/guide.md')
	},
	refs: {
		catalog: {
			component: require('./catalog.html'),
			el: '#catalog',
			data: [
				{name: '介绍', scrollPos: 60},
				{name: '环境安装', scrollPos: 2677},
				{name: '入门', scrollPos: 4110},
				{name: 'Coala 使用', scrollPos: 1770},
				{name: '组件', scrollPos: 4196},
				{name: '数据', scrollPos: 4196},
				{name: '模板 / doT', scrollPos: 4196},
				{name: '监听 / 生命周期', scrollPos: 4196},
				{name: '事件 / 处理', scrollPos: 4196},
				{name: '子组件 / 通信', scrollPos: 11130},
				{name: '混合', scrollPos: 11130},
				{name: '路由使用', scrollPos: 13105}
			],
			itemClick: function(item) {
				console.log(item, 34534)
				$('html, body').animate({scrollTop: item.scrollPos + 'px'}, 500)
			}
		}
	},

	listen: {
		mount: function() {
			$('html, body').animate({scrollTop: '2677px'}, 0)
			window.demo01 =  coala.mount(require('../tutorial/demo01.html'), this.es + ' #demo01')
			window.demo02 =  coala.mount(require('../tutorial/demo02.html'), this.es + ' #demo02')
			window.demo03 =  coala.mount(require('../tutorial/demo03.html'), this.es + ' #demo03')

			this.$('pre code').each(function(i, block) {
		    hljs.highlightBlock(block)
		  });
		},

		unmount: function() {
			console.log('guide unmount')
		}
	}
}
</script>
